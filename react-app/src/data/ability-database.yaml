# Combat Ability Database
# Format: Each ability entry contains all properties needed to create a CombatAbility instance
# NOTE: Some abilities reference mechanics not yet implemented (Knockback, Confusion, Stun, Bleeding, etc.)
#       These are placeholders and will need implementation later

abilities:
  # ============================================================================
  # FIGHTER ABILITIES
  # ============================================================================

  # Fighter Actions
  - id: "charge-001"
    name: "Charge"
    description: "Deals damage to an adjacent unit and has a chance to knock them back (never misses)"
    abilityType: "Action"
    experiencePrice: 50
    tags:
      - "physical"
      - "melee"
      - "knockback"
      - "auto-hit"

  - id: "bash-001"
    name: "Bash"
    description: "Bash an enemy with your shield interrupting their current action (requires shield equipped)"
    abilityType: "Action"
    experiencePrice: 100
    tags:
      - "physical"
      - "melee"
      - "interrupt"
      - "shield-required"

  - id: "shove-001"
    name: "Shove"
    description: "Shoves an enemy knocking them back 1 space"
    abilityType: "Action"
    experiencePrice: 100
    tags:
      - "physical"
      - "melee"
      - "knockback"

  - id: "taunt-001"
    name: "Taunt"
    description: "Taunt an enemy causing them to move toward you"
    abilityType: "Action"
    experiencePrice: 300
    tags:
      - "special"
      - "control"

  - id: "head-strike-001"
    name: "Head Strike"
    description: "Aim for an enemy's head dealing damage and has a chance to inflict confusion"
    abilityType: "Action"
    experiencePrice: 300
    tags:
      - "physical"
      - "weapon-range"
      - "confusion"

  - id: "body-strike-001"
    name: "Body Strike"
    description: "Aim for an enemy's body dealing damage and has a chance to stun them"
    abilityType: "Action"
    experiencePrice: 500
    tags:
      - "physical"
      - "weapon-range"
      - "stun"

  - id: "arm-strike-001"
    name: "Arm Strike"
    description: "Aim for an enemy's arm dealing damage and has a chance to disable physical attacks"
    abilityType: "Action"
    experiencePrice: 400
    tags:
      - "physical"
      - "weapon-range"
      - "disable"

  - id: "leg-strike-001"
    name: "Leg Strike"
    description: "Aim for an enemy's leg dealing damage and has a chance to reduce their Speed"
    abilityType: "Action"
    experiencePrice: 200
    range: 1
    tags:
      - "physical"
      - "weapon-range"
      - "slow"
    effects:
      - type: "damage-physical"
        target: "target"
        value: 15
      - type: "stat-penalty"
        target: "target"
        value: -3
        duration: 3
        chance: 0.5
        params:
          stat: "speed"

  # Fighter Reactions
  - id: "parry-001"
    name: "Parry"
    description: "Before being attacked, briefly increases your physical evasion"
    abilityType: "Reaction"
    experiencePrice: 500
    tags:
      - "defensive"
      - "evasion"
      - "before-attacked"  # Trigger tag
    effects:
      - type: "stat-bonus"
        target: "self"
        value: 15
        duration: 1  # Very brief boost just for this attack
        params:
          stat: "physicalEvade"

  # Fighter Passives
  - id: "meat-shield-001"
    name: "Meat Shield"
    description: "Increases HP by 50"
    abilityType: "Passive"
    experiencePrice: 500
    tags:
      - "defensive"
      - "health"
    effects:
      - type: "stat-permanent"
        target: "self"
        value: 50
        params:
          stat: "maxHealth"

  - id: "shield-bearer-001"
    name: "Shield Bearer"
    description: "Allows user to equip shield even if their class does not permit it"
    abilityType: "Passive"
    experiencePrice: 300
    tags:
      - "equipment"
      - "shield"

  # Fighter Movement
  - id: "journeyman-001"
    name: "Journeyman"
    description: "Gain XP for every step you take"
    abilityType: "Movement"
    experiencePrice: 250
    tags:
      - "experience"
      - "passive-gain"

  # ============================================================================
  # ROGUE ABILITIES
  # ============================================================================

  # Rogue Actions
  - id: "throw-stone-001"
    name: "Throw Stone"
    description: "Basic ranged attack"
    abilityType: "Action"
    experiencePrice: 50
    range: 5
    tags:
      - "physical"
      - "ranged"
    effects:
      - type: "damage-physical"
        target: "target"
        value: 10

  - id: "sneak-001"
    name: "Sneak"
    description: "Take a move action ignoring enemies"
    abilityType: "Action"
    experiencePrice: 100
    tags:
      - "movement"
      - "stealth"

  - id: "cut-001"
    name: "Cut"
    description: "Deal damage and has a chance to cause Bleeding"
    abilityType: "Action"
    experiencePrice: 200
    tags:
      - "physical"
      - "weapon-range"
      - "bleeding"

  - id: "pocket-sand-001"
    name: "Pocket Sand"
    description: "Throw sand in an enemy's eyes causing Blindness"
    abilityType: "Action"
    experiencePrice: 200
    tags:
      - "special"
      - "ranged"
      - "blindness"

  - id: "disappear-001"
    name: "Disappear"
    description: "Teleport to a random tile that is far from enemies"
    abilityType: "Action"
    experiencePrice: 100
    tags:
      - "movement"
      - "teleport"

  - id: "sneak-attack-001"
    name: "Sneak Attack"
    description: "Attack from behind (never misses if enemy is facing away, otherwise automatic miss)"
    abilityType: "Action"
    experiencePrice: 500
    tags:
      - "physical"
      - "weapon-range"
      - "backstab"
      - "conditional"

  - id: "disarm-001"
    name: "Disarm"
    description: "Chance to disarm the target"
    abilityType: "Action"
    experiencePrice: 400
    tags:
      - "physical"
      - "weapon-range"
      - "disarm"

  # Rogue Reactions
  - id: "slippery-001"
    name: "Slippery"
    description: "After taking damage, gain increased speed"
    abilityType: "Reaction"
    experiencePrice: 500
    tags:
      - "defensive"
      - "speed"
      - "after-attacked"  # Trigger tag
    effects:
      - type: "stat-bonus"
        target: "self"
        value: 5
        duration: 2  # Lasts 2 turns
        params:
          stat: "speed"

  - id: "repost-001"
    name: "Repost"
    description: "After being attacked, perform a counter-attack on the enemy"
    abilityType: "Reaction"
    experiencePrice: 250
    tags:
      - "offensive"
      - "counter"
      - "after-attacked"  # Trigger tag
    effects:
      - type: "damage-physical"
        target: "enemy"  # Target is the attacker
        value: 5  # Fixed damage for simplicity

  # Rogue Passives
  - id: "fast-001"
    name: "Fast"
    description: "+3 Speed"
    abilityType: "Passive"
    experiencePrice: 400
    tags:
      - "speed"
    effects:
      - type: "stat-permanent"
        target: "self"
        value: 3
        params:
          stat: "speed"

  - id: "ready-001"
    name: "Ready"
    description: "Start combat with your action timer set to 50"
    abilityType: "Passive"
    experiencePrice: 300
    tags:
      - "initiative"

  - id: "dodge-001"
    name: "Dodge"
    description: "Increases Physical Evasion"
    abilityType: "Passive"
    experiencePrice: 500
    tags:
      - "defensive"
      - "evasion"
    effects:
      - type: "stat-permanent"
        target: "self"
        value: 10
        params:
          stat: "physicalEvade"

  # Rogue Movement
  - id: "extra-movement-001"
    name: "+1 Movement"
    description: "Increases movement by 1"
    abilityType: "Movement"
    experiencePrice: 200
    tags:
      - "movement"

  # ============================================================================
  # APPRENTICE ABILITIES
  # ============================================================================

  # Apprentice Actions - Support
  - id: "heal-001"
    name: "Heal"
    description: "Heals a unit (6 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 100
    range: 3
    tags:
      - "magic"
      - "healing"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 6
      - type: "heal"
        target: "target"
        value: 30

  - id: "minor-shield-001"
    name: "Minor Shield"
    description: "Grants a minor shield to a unit that absorbs up to 20 damage from the next attack"
    abilityType: "Action"
    experiencePrice: 200
    tags:
      - "magic"
      - "buff"
      - "shield"
      - "ranged"

  - id: "strength-001"
    name: "Strength"
    description: "Increases a unit's Physical Attack (6 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 200
    range: 3
    tags:
      - "magic"
      - "buff"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 6
      - type: "stat-bonus"
        target: "target"
        value: 5
        duration: 3
        params:
          stat: "physicalPower"

  - id: "reflexes-001"
    name: "Reflexes"
    description: "Increases a unit's Physical and Magical Evasion (10 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 400
    range: 3
    tags:
      - "magic"
      - "buff"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 10
      - type: "stat-bonus"
        target: "target"
        value: 15
        duration: 3
        params:
          stat: "physicalEvade"
      - type: "stat-bonus"
        target: "target"
        value: 15
        duration: 3
        params:
          stat: "magicalEvade"

  # Apprentice Actions - Offensive
  - id: "harm-001"
    name: "Harm"
    description: "Harms a unit (6 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 100
    range: 3
    tags:
      - "magic"
      - "damage"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 6
      - type: "damage-magical"
        target: "target"
        value: 25

  - id: "weakness-001"
    name: "Weakness"
    description: "Decreases a unit's Physical Attack (6 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 200
    range: 3
    tags:
      - "magic"
      - "debuff"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 6
      - type: "stat-penalty"
        target: "target"
        value: -5
        duration: 3
        params:
          stat: "physicalPower"

  - id: "sluggish-001"
    name: "Sluggish"
    description: "Decreases a unit's Speed (10 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 300
    range: 3
    tags:
      - "magic"
      - "debuff"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 10
      - type: "stat-penalty"
        target: "target"
        value: -5
        duration: 3
        params:
          stat: "speed"

  - id: "mesmerize-001"
    name: "Mesmerize"
    description: "Mesmerizes a unit resetting its Action Timer (10 mana, range 3, single target)"
    abilityType: "Action"
    experiencePrice: 500
    range: 3
    tags:
      - "magic"
      - "control"
      - "ranged"
    effects:
      - type: "mana-cost"
        target: "self"
        value: 10
      - type: "action-timer-modify"
        target: "target"
        value: 0

  # Apprentice Reactions
  - id: "quick-shield-001"
    name: "Quick Shield"
    description: "Before being attacked, briefly increases your magical evasion (costs mana)"
    abilityType: "Reaction"
    experiencePrice: 200
    tags:
      - "magic"
      - "defensive"
      - "evasion"
      - "before-attacked"  # Trigger tag
    effects:
      - type: "mana-cost"
        target: "self"
        value: 5
      - type: "stat-bonus"
        target: "self"
        value: 20
        duration: 1  # Very brief boost just for this attack
        params:
          stat: "magicEvade"

  # Apprentice Passives
  - id: "focused-001"
    name: "Focused"
    description: "Increases MP by 50"
    abilityType: "Passive"
    experiencePrice: 500
    tags:
      - "mana"
    effects:
      - type: "stat-permanent"
        target: "self"
        value: 50
        params:
          stat: "maxMana"

  - id: "mana-shield-001"
    name: "Mana Shield"
    description: "Damage is dealt to Mana rather than Health"
    abilityType: "Passive"
    experiencePrice: 500
    tags:
      - "mana"
      - "defensive"

  # Apprentice Movement
  - id: "meditate-001"
    name: "Meditate"
    description: "When this unit does not move, they gain 10% of their mana"
    abilityType: "Movement"
    experiencePrice: 200
    tags:
      - "mana"
      - "regeneration"
